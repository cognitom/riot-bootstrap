!function(t){var o=t&&t.riot?t.riot:require("riot");o.tag("btn-group","<yield></yield>",'btn-group, [riot-tag="btn-group"]{ position: relative; display: inline-block; vertical-align: middle; } btn-group btn, [riot-tag="btn-group"] btn{ position: relative; float: left; } btn-group btn + btn, [riot-tag="btn-group"] btn + btn{ margin-left: -1px; } btn-group btn[toggle]:not(:first-child) > *, [riot-tag="btn-group"] btn[toggle]:not(:first-child) > *{ padding-right: 8px; padding-left: 8px; } btn-group > btn:hover, [riot-tag="btn-group"] > btn:hover,btn-group > btn:focus, [riot-tag="btn-group"] > btn:focus,btn-group > btn:active, [riot-tag="btn-group"] > btn:active{ z-index: 2; } btn-group > btn:not(:first-child):not(:last-child):not([toggle]) > *, [riot-tag="btn-group"] > btn:not(:first-child):not(:last-child):not([toggle]) > *{ border-radius: 0; } btn-group > btn:first-child, [riot-tag="btn-group"] > btn:first-child{ margin-left: 0; } btn-group > btn:first-child:not(:last-child):not([toggle]) > *, [riot-tag="btn-group"] > btn:first-child:not(:last-child):not([toggle]) > *{ border-top-right-radius: 0; border-bottom-right-radius: 0; } btn-group > btn:last-child:not(:first-child) > *, [riot-tag="btn-group"] > btn:last-child:not(:first-child) > *,btn-group > btn:not(:first-child)[toggle] > *, [riot-tag="btn-group"] > btn:not(:first-child)[toggle] > *{ border-top-left-radius: 0; border-bottom-left-radius: 0; }',function(t){this.mixin("parentScope")}),o.tag("btn",'<button type="button" __disabled="{ disabled }" data-option="{ opts.option }" data-size="{ opts.size }" data-active="{ active ? \'yes\' : \'no\' }" onclick="{ push }" ><yield></yield></button>','btn button, [riot-tag="btn"] button{ display: inline-block; padding: 6px 12px; margin-bottom: 0; font-size: 14px; font-weight: normal; line-height: 1.42857143; text-align: center; white-space: nowrap; vertical-align: middle; cursor: pointer; background-image: none; border: 1px solid transparent; border-radius: 4px; } btn button:focus, [riot-tag="btn"] button:focus{ outline: thin dotted; outline: 5px auto -webkit-focus-ring-color; outline-offset: -2px; } btn button:hover, [riot-tag="btn"] button:hover,btn button:focus, [riot-tag="btn"] button:focus{ color: #333; text-decoration: none; } btn button:active, [riot-tag="btn"] button:active,btn button[data-active="yes"], [riot-tag="btn"] button[data-active="yes"]{ background-image: none; outline: 0; box-shadow: inset 0 3px 2px rgba(0, 0, 0, .1); } btn button[disabled], [riot-tag="btn"] button[disabled]{ pointer-events: none; cursor: not-allowed; box-shadow: none; opacity: .65; } btn button, [riot-tag="btn"] button{ color: #333; background-color: #fff; border-color: #ccc } btn button:hover, [riot-tag="btn"] button:hover,btn button:focus, [riot-tag="btn"] button:focus,btn button:active, [riot-tag="btn"] button:active,btn button[data-active="yes"], [riot-tag="btn"] button[data-active="yes"]{ color: #333; background-color: #e6e6e6; border-color: #adadad } btn button[data-option="primary"], [riot-tag="btn"] button[data-option="primary"]{ color: #fff; background-color: #337ab7; border-color: #2e6da4 } btn button[data-option="primary"]:hover, [riot-tag="btn"] button[data-option="primary"]:hover,btn button[data-option="primary"]:focus, [riot-tag="btn"] button[data-option="primary"]:focus,btn button[data-option="primary"]:active, [riot-tag="btn"] button[data-option="primary"]:active{ color: #fff; background-color: #286090; border-color: #204d74 } btn button[data-option="success"], [riot-tag="btn"] button[data-option="success"]{ color: #fff; background-color: #5cb85c; border-color: #4cae4c } btn button[data-option="success"]:hover, [riot-tag="btn"] button[data-option="success"]:hover,btn button[data-option="success"]:focus, [riot-tag="btn"] button[data-option="success"]:focus,btn button[data-option="success"]:active, [riot-tag="btn"] button[data-option="success"]:active{ color: #fff; background-color: #449d44; border-color: #398439 } btn button[data-option="info"], [riot-tag="btn"] button[data-option="info"]{ color: #fff; background-color: #5bc0de; border-color: #46b8da } btn button[data-option="info"]:hover, [riot-tag="btn"] button[data-option="info"]:hover,btn button[data-option="info"]:focus, [riot-tag="btn"] button[data-option="info"]:focus,btn button[data-option="info"]:active, [riot-tag="btn"] button[data-option="info"]:active{ color: #fff; background-color: #31b0d5; border-color: #269abc } btn button[data-option="warning"], [riot-tag="btn"] button[data-option="warning"]{ color: #fff; background-color: #f0ad4e; border-color: #f0ad4e } btn button[data-option="warning"]:hover, [riot-tag="btn"] button[data-option="warning"]:hover,btn button[data-option="warning"]:focus, [riot-tag="btn"] button[data-option="warning"]:focus,btn button[data-option="warning"]:active, [riot-tag="btn"] button[data-option="warning"]:active{ color: #fff; background-color: #ec971f; border-color: #d58512 } btn button[data-option="danger"], [riot-tag="btn"] button[data-option="danger"]{ color: #fff; background-color: #d9534f; border-color: #d43f3a } btn button[data-option="danger"]:hover, [riot-tag="btn"] button[data-option="danger"]:hover,btn button[data-option="danger"]:focus, [riot-tag="btn"] button[data-option="danger"]:focus,btn button[data-option="danger"]:active, [riot-tag="btn"] button[data-option="danger"]:active{ color: #fff; background-color: #c9302c; border-color: #ac2925 } btn button[data-option="link"], [riot-tag="btn"] button[data-option="link"]{ font-weight: normal; color: #337ab7; border-radius: 0; background-color: transparent; border-color: transparent; box-shadow: none; } btn button[data-option="link"]:hover, [riot-tag="btn"] button[data-option="link"]:hover,btn button[data-option="link"]:focus, [riot-tag="btn"] button[data-option="link"]:focus{ color: #23527c; text-decoration: underline; } btn button[data-size="lg"], [riot-tag="btn"] button[data-size="lg"]{ padding: 10px 16px; font-size: 18px; line-height: 1.3333333; border-radius: 6px; } btn button[data-size="sm"], [riot-tag="btn"] button[data-size="sm"]{ padding: 5px 10px; font-size: 12px; line-height: 1.5; border-radius: 3px; } btn button[data-size="xs"], [riot-tag="btn"] button[data-size="xs"]{ padding: 1px 5px; font-size: 12px; line-height: 1.5; border-radius: 3px; }',function(t){this.disabled=void 0,this.culculateProperties=function(o){this.disabled=t.hasOwnProperty("__disabled")?t.__disabled===!0:t.hasOwnProperty("disabled")?""===t.disabled||"disabled"===t.disabled:!1,this.active=t.hasOwnProperty("active")?""===t.active||"active"===t.active||t.active===!0:!1}.bind(this),this.push=function(o){return this.disabled?void 0:(this.parent&&t.toggle&&this.parent.trigger("inner-btn-toggle"),t.href?(o.preventUpdate=!0,void(location.href=t.href)):void(t.onpush&&(o.preventUpdate=!0,t.onpush(o),this.updateCaller(t.onpush))))}.bind(this),this.on("update",this.culculateProperties),this.mixin("parentScope")}),o.tag("calendar",'<table> <thead> <tr> <th><btn onpush="{ prev }">&laquo;</btn></th> <th colspan="5">{ title }</th> <th><btn onpush="{ next }">&raquo;</btn></th> </tr> </thead> <tbody> <tr><th each="{ day in weekdays }">{ day }</th></tr> <tr each="{ week in calendar }"> <td each="{ week }"><btn active="{ selected }" __disabled="{ !currentMonth }" onpush="{ push(daynum) }">{ daynum }</btn></td> </tr> </tbody> </table>','calendar, [riot-tag="calendar"]{ display: inline-block; vertical-align: top; padding: 3px; text-align: center; } calendar thead th, [riot-tag="calendar"] thead th{ font-size: 90%; } calendar tbody th, [riot-tag="calendar"] tbody th{ padding: 6px 0; font-size: 90%; } calendar td, [riot-tag="calendar"] td{ text-align: center; padding: 1px; } calendar btn, [riot-tag="calendar"] btn{ width: 100%; display: block; } calendar btn button, [riot-tag="calendar"] btn button{ color: #333; display: block; width: 100%; border: none; padding: 4px 5px; } calendar btn button:hover, [riot-tag="calendar"] btn button:hover,calendar btn button:focus, [riot-tag="calendar"] btn button:focus{ color: #000; text-decoration: none; background: #f7f7f7; } calendar btn button:disabled, [riot-tag="calendar"] btn button:disabled{ color: #bbb; } calendar btn button[data-active="yes"], [riot-tag="calendar"] btn button[data-active="yes"]{ box-shadow: none; background-color: #337ab7; color: white; }',function(t){function o(t,o){return new Date(t,o,1).getDay()}function i(t,o){return new Date(t,o+1,0).getDate()}function e(t,o,i){return t+"-"+(9>o?"0"+(o+1):o+1)+"-"+(10>i?"0"+i:i)}function n(t,o){for(var i=0;i<a.length;i++)if(a[i]==t)return o&&a.splice(i,1),!0;return!1}var r=this,a="string"==typeof t.value?t.value.split(","):t.value||[],d={en:{monthFormat:"%M %Y",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Su","Mo","Tu","We","Th","Fr","Sa"]},fr:{monthFormat:"%M %Y",months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],weekdays:["L","Ma","Me","J","V","S","D"]},ja:{monthFormat:"%Y年%M月",months:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["日","月","火","水","木","金","土"]},zh:{monthFormat:"%Y年%M月",months:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["一","二","三","四","五","六","日"]}},c=a[0]?new Date(a[0]):new Date;r.lang=d[t.lang]?t.lang:d[document.documentElement.lang]?document.documentElement.lang:"en",r.weekdays=d[r.lang].weekdays,r.currentYear=c.getFullYear(),r.currentMonth=c.getMonth(),r.title="",r.multi=!1,this.prev=function(t){--r.currentMonth<0&&(r.currentMonth=11,r.currentYear--)}.bind(this),this.next=function(t){11<++r.currentMonth&&(r.currentMonth=0,r.currentYear++)}.bind(this),this.push=function(o){return function(i){var d=e(r.currentYear,r.currentMonth,o);r.multi?n(d,!0)||a.push(d):a=[d];var c=r.multi?a:a[0];r.root.setAttribute("value",c),r.trigger("change",c),t.onchange&&(t.onchange(c),r.updateCaller(t.onchange)),r.update()}}.bind(this);r.on("update",function(){r.multi=t.hasOwnProperty("multi")?""===t.multi||"multi"===t.multi||t.multi===!0:!1,r.title=d[r.lang].monthFormat.replace("%M",d[r.lang].months[r.currentMonth]).replace("%Y",r.currentYear);var a,c,l=r.currentYear,s=r.currentMonth,u=o(l,s),p=i(l,s),b=Math.ceil((u+p)/7);r.calendar=[];for(var h=0;b>h;h++){c=[];for(var g=0;7>g;g++)a=new Date(l,s,7*h+g+1-u),c.push({daynum:a.getDate(),selected:n(e(a.getFullYear(),a.getMonth(),a.getDate())),currentMonth:a.getMonth()==s});r.calendar.push(c)}}),this.click=function(t){var o=r.parent;o.select&&o.select(r.multi?a:a[0])}.bind(this),this.addEventListners=function(t){r.root.addEventListener("touchstart",r.click,!1),r.root.addEventListener("click",r.click,!1)}.bind(this),this.removeEventListners=function(t){r.root.removeEventListener("touchstart",r.click),r.root.removeEventListener("click",r.click)}.bind(this),r.one("mount",r.addEventListners),r.one("unmount",r.removeEventListners),r.mixin("parentScope")}),o.tag("caret","",'caret, [riot-tag="caret"]{ display: inline-block; width: 0; height: 0; margin-left: 2px; vertical-align: middle; border-top: 4px dashed; border-right: 4px solid transparent; border-left: 4px solid transparent; }',function(t){}),o.tag("input-img",'<img riot-src="{ image }" width="{ width }" height="{ height }"> <input if="{ name }" name="{ name }" type="hidden" value="{ self.image }">',"input-img { position: relative; display: inline-block; vertical-align: middle; padding: 4px; line-height: 1em; border: 1px solid #ccc; border-radius: 5px; overflow: hidden; } input-img.highlight { box-shadow: 0 0 5px #419bf9; } input-img > img { display: block; border-radius: 3px; }",function(o){function i(){return t.File&&t.FileReader&&t.FileList&&t.Blob}var e=this;e.image=o.value||o.placeholder||"",e.width=o.width||100,e.height=o.height||100,e.name=o.name||"",this.processFiles=function(t){t.stopPropagation(),t.preventDefault(),e.dehightlight();var o=t.dataTransfer.files[0],i=new FileReader;o.type.match("image.*")&&(i.onload=function(t){e.image=t.target.result,e.update(),e.image.length>32768&&console.log("In IE8, data URIs cannot be larger than 32,768 characters."),e.trigger("change")},i.readAsDataURL(o))}.bind(this),this.highlight=function(t){t.stopPropagation(),t.preventDefault(),e.root.setAttribute("class","highlight")}.bind(this),this.dehightlight=function(){e.root.removeAttribute("class")}.bind(this),i()&&e.on("mount",function(){e.root.addEventListener("drop",e.processFiles,!1),e.root.addEventListener("dragover",e.highlight,!1),e.root.addEventListener("dragenter",e.highlight,!1),e.root.addEventListener("dragleave",e.dehightlight,!1)}),e.on("update",function(){e.root.value=e.image}),e.on("change",function(){o.onchange&&(o.onchange(),e.updateCaller(o.onchange))}),this.mixin("parentScope")}),o.tag("menu-divider","",'menu-divider, [riot-tag="menu-divider"]{ display: block; height: 1px; margin: 9px 0; overflow: hidden; background-color: #e5e5e5; }',function(t){}),o.tag("menu-header","<yield></yield>",'menu-header, [riot-tag="menu-header"]{ display: block; padding: 3px 20px; font-size: 12px; line-height: 1.42857143; color: #777; white-space: nowrap; }',function(t){this.mixin("parentScope")}),o.tag("menu-item","<yield></yield>","menu-item { display: block; padding: 3px 20px; clear: both; font-weight: normal; line-height: 1.42857143; color: #333; white-space: nowrap; cursor: pointer; } menu-item:hover, menu-item:focus { color: #262626; text-decoration: none; background-color: #f5f5f5; }",function(t){this.click=function(o){var i=this.parent;i.select||(i=i.parent),i.select(t.value||this.root.innerText)}.bind(this),this.addEventListners=function(t){this.root.addEventListener("touchstart",this.click,!1),this.root.addEventListener("click",this.click,!1)}.bind(this),this.removeEventListners=function(t){this.root.removeEventListener("touchstart",this.click),this.root.removeEventListener("click",this.click)}.bind(this),this.one("mount",this.addEventListners),this.one("unmount",this.removeEventListners),this.mixin("parentScope")}),o.tag("menu","<yield></yield>",'menu, [riot-tag="menu"]{ position: absolute; top: 100%; left: 0; z-index: 1000; display: none; float: left; min-width: 160px; padding: 5px 0; margin: 2px 0 0; font-size: 14px; text-align: left; list-style: none; background-color: #fff; background-clip: padding-box; border: 1px solid #ccc; border: 1px solid rgba(0, 0, 0, .15); border-radius: 4px; box-shadow: 0 6px 12px rgba(0, 0, 0, .175); }',function(t){var o=!1;this.open=function(t){o||(o=!0,this.root.style.display="block",setTimeout(this.addEventListners,1))}.bind(this),this.close=function(t){o=!1,this.root.style.display="none",this.removeEventListners()}.bind(this),this.select=function(o){t.onselect&&(t.onselect(o),this.updateCaller(t.onselect))}.bind(this),this.addEventListners=function(t){document.addEventListener("touchstart",this.close,!1),document.addEventListener("click",this.close,!1)}.bind(this),this.removeEventListners=function(t){document.removeEventListener("touchstart",this.close),document.removeEventListener("click",this.close)}.bind(this),this.parent&&this.parent.on("inner-btn-toggle",this.open),this.mixin("parentScope")}),o.tag("radio-group","<yield></yield>",'radio-group, [riot-tag="radio-group"]{ position: relative; display: inline-block; vertical-align: middle; } radio-group radio, [riot-tag="radio-group"] radio{ position: relative; float: left; } radio-group radio + radio, [riot-tag="radio-group"] radio + radio{ margin-left: -1px; } radio-group radio[toggle]:not(:first-child) > *, [riot-tag="radio-group"] radio[toggle]:not(:first-child) > *{ padding-right: 8px; padding-left: 8px; } radio-group > radio:hover, [riot-tag="radio-group"] > radio:hover,radio-group > radio:focus, [riot-tag="radio-group"] > radio:focus,radio-group > radio:active, [riot-tag="radio-group"] > radio:active{ z-index: 2; } radio-group > radio:not(:first-child):not(:last-child):not([toggle]) > *, [riot-tag="radio-group"] > radio:not(:first-child):not(:last-child):not([toggle]) > *{ border-radius: 0; } radio-group > radio:first-child, [riot-tag="radio-group"] > radio:first-child{ margin-left: 0; } radio-group > radio:first-child:not(:last-child):not([toggle]) > *, [riot-tag="radio-group"] > radio:first-child:not(:last-child):not([toggle]) > *{ border-top-right-radius: 0; border-bottom-right-radius: 0; } radio-group > radio:last-child:not(:first-child) > *, [riot-tag="radio-group"] > radio:last-child:not(:first-child) > *,radio-group > radio:not(:first-child)[toggle] > *, [riot-tag="radio-group"] > radio:not(:first-child)[toggle] > *{ border-top-left-radius: 0; border-bottom-left-radius: 0; }',function(t){this.value=t.value,this.set=function(o){this.value=o,this.root.value=o,this.trigger("change",o),t.onchange&&(t.onchange(o),this.updateCaller(t.onchange))}.bind(this),this.mixin("parentScope")}),o.tag("radio",'<button type="button" __disabled="{ opts.disabled }" data-selected="{ selected ? \'yes\' : \'no\' }" data-size="{ opts.size }" onclick="{ click }" ><input type="radio" __checked="{ selected }" onclick="{ click }"> <yield></yield></button>','radio button, [riot-tag="radio"] button{ display: inline-block; padding: 6px 12px; margin-bottom: 0; font-size: 14px; font-weight: normal; line-height: 1.42857143; text-align: center; white-space: nowrap; vertical-align: middle; cursor: pointer; background-image: none; border: 1px solid transparent; border-radius: 4px; } radio button:focus, [riot-tag="radio"] button:focus{ outline: thin dotted; outline: 5px auto -webkit-focus-ring-color; outline-offset: -2px; } radio button:hover, [riot-tag="radio"] button:hover,radio button:focus, [riot-tag="radio"] button:focus{ color: #333; text-decoration: none; } radio button:active, [riot-tag="radio"] button:active{ background-image: none; outline: 0; box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125); } radio button[disabled], [riot-tag="radio"] button[disabled]{ pointer-events: none; cursor: not-allowed; box-shadow: none; opacity: .65; } radio button, [riot-tag="radio"] button{ color: #333; background-color: #fff; border-color: #ccc } radio button:hover, [riot-tag="radio"] button:hover,radio button:focus, [riot-tag="radio"] button:focus,radio button:active, [riot-tag="radio"] button:active,radio button[data-selected="yes"], [riot-tag="radio"] button[data-selected="yes"]{ color: #333; background-color: #e6e6e6; border-color: #adadad } radio button[data-size="lg"], [riot-tag="radio"] button[data-size="lg"]{ padding: 10px 16px; font-size: 18px; line-height: 1.3333333; border-radius: 6px; } radio button[data-size="sm"], [riot-tag="radio"] button[data-size="sm"]{ padding: 5px 10px; font-size: 12px; line-height: 1.5; border-radius: 3px; } radio button[data-size="xs"], [riot-tag="radio"] button[data-size="xs"]{ padding: 1px 5px; font-size: 12px; line-height: 1.5; border-radius: 3px; }',function(t){this.selected=t.value==this.parent.value,this.check=function(){this.selected=t.value==this.parent.value,this.update()}.bind(this),this.click=function(o){this.selected||(this.parent&&this.parent.set?this.parent.set(t.value||this.root.innerText):this.selected=!0)}.bind(this),this.parent.on("change",this.check)}),o.tag("time-picker-popup",'<ul if="{ active }" riot-style="top: {top}px; left: {left}px"> <li each="{ hours }"> { hh % 2 ? \'&middot;\' : hh + \':00\' } </li> </ul> <ol if="{ active }" riot-style="top: {top2}px; left: {left2}px" class="{ roundLeft: roundLeft }"> <li onmouseover="{ mouseover(\'00\') }" onclick="{ click(\'00\') }">{ hh }:{ mm }</li> <li onmouseover="{ mouseover(\'05\') }" onclick="{ click(\'05\') }">&middot;</li> <li onmouseover="{ mouseover(\'10\') }" onclick="{ click(\'10\') }">10</li> <li onmouseover="{ mouseover(\'15\') }" onclick="{ click(\'15\') }">&middot;</li> <li onmouseover="{ mouseover(\'20\') }" onclick="{ click(\'20\') }">20</li> <li onmouseover="{ mouseover(\'25\') }" onclick="{ click(\'25\') }">&middot;</li> <li onmouseover="{ mouseover(\'30\') }" onclick="{ click(\'30\') }">30</li> <li onmouseover="{ mouseover(\'35\') }" onclick="{ click(\'35\') }">&middot;</li> <li onmouseover="{ mouseover(\'40\') }" onclick="{ click(\'40\') }">40</li> <li onmouseover="{ mouseover(\'45\') }" onclick="{ click(\'45\') }">&middot;</li> <li onmouseover="{ mouseover(\'50\') }" onclick="{ click(\'50\') }">50</li> <li onmouseover="{ mouseover(\'55\') }" onclick="{ click(\'55\') }">&middot;</li> </ol>','time-picker-popup ul, [riot-tag="time-picker-popup"] ul{ position: absolute; z-index: 1000; float: left; padding: 10px 0; margin: 0; font-size: 14px; text-align: left; list-style: none; background-color: #fff; background-clip: padding-box; border: 1px solid #ccc; border: 1px solid rgba(0, 0, 0, .15); border-radius: 4px; box-shadow: 0 6px 12px rgba(0, 0, 0, .175); } time-picker-popup ul > li, [riot-tag="time-picker-popup"] ul > li{ padding: 0 15px; line-height: 16px; color: #666; position: relative; text-align: center; } time-picker-popup ol, [riot-tag="time-picker-popup"] ol{ position: absolute; white-space: nowrap; z-index: 1001; list-style: none; padding: 3px 13px; margin: 0; color: white; text-decoration: none; background-color: #3879d9; cursor: pointer; border-top-right-radius: 4px; border-bottom-right-radius: 4px; box-shadow: 0 3px 6px rgba(0, 0, 0, .175); transition: left .2s; } time-picker-popup ol.roundLeft, [riot-tag="time-picker-popup"] ol.roundLeft{ border-top-left-radius: 4px; border-bottom-left-radius: 4px; } time-picker-popup ol > li, [riot-tag="time-picker-popup"] ol > li{ display: inline-block; margin: 0; padding: 0 2px; min-width: 13px; text-align: center; line-height: 24px; border-radius: 4px; } time-picker-popup ol > li + li, [riot-tag="time-picker-popup"] ol > li + li{ margin-left: -4px; color: rgba(255,255,255,.65) } time-picker-popup ol > li:hover, [riot-tag="time-picker-popup"] ol > li:hover{ background-color: #528ce1; color: white; }',function(t){var o,i=this,e=16;i.hours=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"].map(function(t){return{hh:t,mm:"00"}}),i.hh=t.value.split(":")[0],i.mm=t.value.split(":")[1],i.top=0,i.left=0,i.top2=0,i.left2=0,i.roundLeft=!1,i.active=!1,this.activate=function(t,n){i.update({active:!0,top:t,left:n,top2:t+i.hh*e+4,left2:n,roundLeft:!1}),o=i.root.querySelector("ul").clientWidth;var r=i.root.querySelector("ol").clientWidth;i.left2+r>document.body.clientWidth&&i.update({left2:document.body.clientWidth-r-5,roundLeft:!0}),document.addEventListener("mousemove",i.mousemove),document.addEventListener("click",i.deactivate,!0)}.bind(this),this.deactivate=function(){i.update({active:!1}),document.removeEventListener("mousemove",i.mousemove),document.removeEventListener("click",i.deactivate)}.bind(this),this.mousemove=function(t){var n=document.body.scrollLeft+t.clientX,r=document.body.scrollTop+t.clientY;if(!(n-i.left<0||o<n-i.left)){var a=Math.floor((r-i.top-8)/e);a=0>a?0:a>23?23:a,a!=i.hh&&(i.hh=10>a?"0"+a:a+"",i.top2=i.top+a*e+4,i.update())}}.bind(this),this.mouseover=function(t){return function(o){i.mm=t}}.bind(this),this.click=function(t){return function(t){i.trigger("change",i.hh+":"+i.mm),i.deactivate()}}.bind(this)}),o.tag("time-picker",'<btn onpush="{ push }">{ value }</btn>','time-picker, [riot-tag="time-picker"]{ display: inline-block; background-color: white; }',function(t){var i=this,e=document.createElement("div");i.value=t.value||"00:00",i.popup=o.mount(e,"time-picker-popup",t)[0],this.push=function(t){var o=i.root.getBoundingClientRect(),e=o.top+document.body.scrollTop,n=o.left+document.body.scrollLeft,r=e-4-16*i.value.split(":")[0],a=n-3;5>r&&(r=5),i.popup.activate(r,a)}.bind(this),i.on("mount",function(){i.root.value=i.value,document.body.appendChild(e)}),i.on("unmount",function(){document.body.removeChild(e)}),i.popup.on("change",function(t){i.update({value:t}),i.root.value=t,i.trigger("change",t)}),t.onchange&&(i.on("change",t.onchange),i.on("change",function(){i.updateCaller(t.onchange)})),i.mixin("parentScope")}),o.mixin("parentScope",{init:function(){this._ownPropKeys=[],this._ownOptsKeys=[];for(var t in this)this._ownPropKeys[t]=!0;for(var t in this.opts)this._ownOptsKeys[t]=!0;this.on("update",function(){for(var t in this.parent)this._ownPropKeys[t]||(this[t]=this.parent[t]);for(var t in this.parent.opts)this._ownOptsKeys[t]||(this.opts[t]=this.parent.opts[t])})},updateCaller:function(t){var o=[];for(var i in this.parent._ownPropKeys||this.parent)o.push(i);for(var e=0;e<o.length;e++)if(this.parent[o[e]]===t)return void this.parent.update();this.parent.updateCaller&&this.parent.updateCaller(t)}})}("undefined"!=typeof window?window:void 0);